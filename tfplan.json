{"format_version":"1.2","terraform_version":"1.12.2","variables":{"address_space":{"value":["10.0.0.0/16"]},"admin_password":{"value":"MyP@SSWordDSDK*2"},"linux_source_image_reference":{"value":{"offer":"0001-com-ubuntu-server-jammy","publisher":"Canonical","sku":"22_04-lts","version":"latest"}},"location":{"value":"westeurope"},"os_type":{"value":"windows"},"size_vm":{"value":"Standard_B1s"},"ssh_public_key":{"value":"ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDSMgn1iGOksghwCrnuXAMXKtAk/TwAw/pTJb9mC+q6v9Clo+yVizRwQ+kGsDAtZUUkQfIr3Ep5MUSOtyfyeLQkiC55iD4JvEpWbiwCrbma17z9hPDiEUu8cYBZhQIpXnVkTdtoRRSejNlAfgb1OJDjyG5tAv/QF7Bvq8+MsxEHYlb7NewSe8Fh/AFTCFVkixyYhjXEHOrX9naBzNyYRqkGpQ9dJd9USsGEIgku3VkI2jNNCLtJIlli3TTy726vtAJ713TXfzbcYtlkXmcDRk3r7Y1934DfRSwenlad8O5ElcnYgeLPo50SVUnEufmbz0OV/rIb1WBL1KWuIcPdKkRRTz7X+uGdSGj24FTTrtAWajpEyvFemtN2ViZpqUJ+L/oJEKObc/ZP1pNX2a53Y9MJIDQ+mtzFvA1p//1p5FSe9yoBtzLurP0MiLdLJZJcjVAGv+p6jYCk2XPOFqaMV59j2qz978Ky65LycJ5L8SAyvUqoqoDS0eB9ckxnjhlR6j+f6mWOQ8gW7bYEDTvRQJr45LWtuyW61hC7Xp0E9MuG0Sr5/YKS6cSqppNsgCuOiWK74z+lKmTwkw3xXMhM8VRO67TVthRIdbEhvL8pHSiS02iLHl7aIcmou5XZIUwE0KQW3TKurxcA1wiibWC++n/oGX95IKOjskxnt/ce/cQsoQ== devops-test@staff-fddggfgd.myhost.com"},"subnets":{"value":[{"address_prefixes":["10.0.1.0/24"],"name":"subnet-1"},{"address_prefixes":["10.0.2.0/24"],"name":"subnet-2"}]},"subscription_id":{"value":"f599dbbd-b482-4de5-b3de-a62cf8de30f0"},"tags":{"value":{"environment":"dev","owner":"devops","project":"opella-test"}},"username":{"value":"devops-test"},"vnet_name":{"value":"demo-vnet-first"},"windows_image_reference":{"value":{"offer":"WindowsServer","publisher":"MicrosoftWindowsServer","sku":"2022-datacenter-azure-edition","version":"latest"}},"workflow":{"value":"dev"}},"planned_values":{"outputs":{"subnet_ids":{"sensitive":false},"vnet_id":{"sensitive":false}},"root_module":{"resources":[{"address":"azurerm_resource_group.rg","mode":"managed","type":"azurerm_resource_group","name":"rg","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"location":"westeurope","managed_by":null,"name":"dev-rg","tags":{"environment":"dev","owner":"devops","project":"opella-test"},"timeouts":null},"sensitive_values":{"tags":{}}},{"address":"azurerm_storage_account.sa","mode":"managed","type":"azurerm_storage_account","name":"sa","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":4,"values":{"account_kind":"StorageV2","account_replication_type":"LRS","account_tier":"Standard","allow_nested_items_to_be_public":true,"allowed_copy_scope":null,"azure_files_authentication":[],"cross_tenant_replication_enabled":true,"custom_domain":[],"customer_managed_key":[],"default_to_oauth_authentication":false,"dns_endpoint_type":"Standard","edge_zone":null,"identity":[],"immutability_policy":[],"infrastructure_encryption_enabled":false,"is_hns_enabled":false,"local_user_enabled":true,"location":"westeurope","min_tls_version":"TLS1_2","nfsv3_enabled":false,"public_network_access_enabled":true,"queue_encryption_key_type":"Service","resource_group_name":"dev-rg","sas_policy":[],"sftp_enabled":false,"shared_access_key_enabled":true,"table_encryption_key_type":"Service","tags":{"environment":"dev","owner":"devops","project":"opella-test"},"timeouts":null},"sensitive_values":{"azure_files_authentication":[],"blob_properties":[],"custom_domain":[],"customer_managed_key":[],"identity":[],"immutability_policy":[],"network_rules":[],"primary_access_key":true,"primary_blob_connection_string":true,"primary_connection_string":true,"queue_properties":[],"routing":[],"sas_policy":[],"secondary_access_key":true,"secondary_blob_connection_string":true,"secondary_connection_string":true,"share_properties":[],"static_website":[],"tags":{}}},{"address":"random_string.suffix","mode":"managed","type":"random_string","name":"suffix","provider_name":"registry.terraform.io/hashicorp/random","schema_version":2,"values":{"keepers":null,"length":6,"lower":true,"min_lower":0,"min_numeric":0,"min_special":0,"min_upper":0,"number":true,"numeric":true,"override_special":null,"special":false,"upper":false},"sensitive_values":{}}],"child_modules":[{"resources":[{"address":"module.vm.azurerm_network_interface.nic","mode":"managed","type":"azurerm_network_interface","name":"nic","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"auxiliary_mode":null,"auxiliary_sku":null,"edge_zone":null,"internal_dns_name_label":null,"ip_configuration":[{"name":"internal","private_ip_address_allocation":"Dynamic","private_ip_address_version":"IPv4","public_ip_address_id":null}],"location":"westeurope","name":"nic-dev-westeurope","resource_group_name":"dev-rg","tags":{"environment":"dev","owner":"devops","project":"opella-test"},"timeouts":null},"sensitive_values":{"applied_dns_servers":[],"dns_servers":[],"ip_configuration":[{}],"private_ip_addresses":[],"tags":{}}},{"address":"module.vm.azurerm_windows_virtual_machine.vm_windows[0]","mode":"managed","type":"azurerm_windows_virtual_machine","name":"vm_windows","index":0,"provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"additional_capabilities":[],"additional_unattend_content":[],"admin_password":"MyP@SSWordDSDK*2","admin_username":"devops-test","allow_extension_operations":true,"availability_set_id":null,"boot_diagnostics":[],"bypass_platform_safety_checks_on_user_schedule_enabled":false,"capacity_reservation_group_id":null,"custom_data":null,"dedicated_host_group_id":null,"dedicated_host_id":null,"edge_zone":null,"enable_automatic_updates":true,"encryption_at_host_enabled":null,"eviction_policy":null,"extensions_time_budget":"PT1H30M","gallery_application":[],"hotpatching_enabled":false,"identity":[],"license_type":null,"location":"westeurope","max_bid_price":-1,"name":"vm-dev-westeuro","os_disk":[{"caching":"ReadWrite","diff_disk_settings":[],"disk_encryption_set_id":null,"secure_vm_disk_encryption_set_id":null,"security_encryption_type":null,"storage_account_type":"Standard_LRS","write_accelerator_enabled":false}],"os_image_notification":[],"patch_assessment_mode":"ImageDefault","patch_mode":"AutomaticByOS","plan":[],"platform_fault_domain":-1,"priority":"Regular","provision_vm_agent":true,"proximity_placement_group_id":null,"reboot_setting":null,"resource_group_name":"dev-rg","secret":[],"secure_boot_enabled":null,"size":"Standard_B1s","source_image_id":null,"source_image_reference":[{"offer":"WindowsServer","publisher":"MicrosoftWindowsServer","sku":"2022-datacenter-azure-edition","version":"latest"}],"tags":{"environment":"dev","owner":"devops","project":"opella-test"},"timeouts":null,"timezone":null,"user_data":null,"virtual_machine_scale_set_id":null,"vm_agent_platform_updates_enabled":false,"vtpm_enabled":null,"winrm_listener":[],"zone":null},"sensitive_values":{"additional_capabilities":[],"additional_unattend_content":[],"admin_password":true,"boot_diagnostics":[],"custom_data":true,"gallery_application":[],"identity":[],"network_interface_ids":[],"os_disk":[{"diff_disk_settings":[]}],"os_image_notification":[],"plan":[],"private_ip_addresses":[],"public_ip_addresses":[],"secret":[],"source_image_reference":[{}],"tags":{},"termination_notification":[],"winrm_listener":[]}}],"address":"module.vm"},{"resources":[{"address":"module.vnet.azurerm_subnet.subnet[\"subnet-1\"]","mode":"managed","type":"azurerm_subnet","name":"subnet","index":"subnet-1","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"address_prefixes":["10.0.1.0/24"],"default_outbound_access_enabled":true,"delegation":[],"name":"subnet-1","resource_group_name":"dev-rg","service_endpoint_policy_ids":null,"service_endpoints":null,"timeouts":null,"virtual_network_name":"demo-vnet-first-dev-vnet"},"sensitive_values":{"address_prefixes":[false],"delegation":[]}},{"address":"module.vnet.azurerm_subnet.subnet[\"subnet-2\"]","mode":"managed","type":"azurerm_subnet","name":"subnet","index":"subnet-2","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"address_prefixes":["10.0.2.0/24"],"default_outbound_access_enabled":true,"delegation":[],"name":"subnet-2","resource_group_name":"dev-rg","service_endpoint_policy_ids":null,"service_endpoints":null,"timeouts":null,"virtual_network_name":"demo-vnet-first-dev-vnet"},"sensitive_values":{"address_prefixes":[false],"delegation":[]}},{"address":"module.vnet.azurerm_virtual_network.virtual_network_one","mode":"managed","type":"azurerm_virtual_network","name":"virtual_network_one","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"address_space":["10.0.0.0/16"],"bgp_community":null,"ddos_protection_plan":[],"edge_zone":null,"encryption":[],"flow_timeout_in_minutes":null,"location":"westeurope","name":"demo-vnet-first-dev-vnet","resource_group_name":"dev-rg","tags":{"environment":"dev","owner":"devops","project":"opella-test"},"timeouts":null},"sensitive_values":{"address_space":[false],"ddos_protection_plan":[],"dns_servers":[],"encryption":[],"subnet":[],"tags":{}}}],"address":"module.vnet"}]}},"resource_changes":[{"address":"azurerm_resource_group.rg","mode":"managed","type":"azurerm_resource_group","name":"rg","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"location":"westeurope","managed_by":null,"name":"dev-rg","tags":{"environment":"dev","owner":"devops","project":"opella-test"},"timeouts":null},"after_unknown":{"id":true,"tags":{}},"before_sensitive":false,"after_sensitive":{"tags":{}}}},{"address":"azurerm_storage_account.sa","mode":"managed","type":"azurerm_storage_account","name":"sa","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"account_kind":"StorageV2","account_replication_type":"LRS","account_tier":"Standard","allow_nested_items_to_be_public":true,"allowed_copy_scope":null,"azure_files_authentication":[],"cross_tenant_replication_enabled":true,"custom_domain":[],"customer_managed_key":[],"default_to_oauth_authentication":false,"dns_endpoint_type":"Standard","edge_zone":null,"identity":[],"immutability_policy":[],"infrastructure_encryption_enabled":false,"is_hns_enabled":false,"local_user_enabled":true,"location":"westeurope","min_tls_version":"TLS1_2","nfsv3_enabled":false,"public_network_access_enabled":true,"queue_encryption_key_type":"Service","resource_group_name":"dev-rg","sas_policy":[],"sftp_enabled":false,"shared_access_key_enabled":true,"table_encryption_key_type":"Service","tags":{"environment":"dev","owner":"devops","project":"opella-test"},"timeouts":null},"after_unknown":{"access_tier":true,"azure_files_authentication":[],"blob_properties":true,"custom_domain":[],"customer_managed_key":[],"enable_https_traffic_only":true,"https_traffic_only_enabled":true,"id":true,"identity":[],"immutability_policy":[],"large_file_share_enabled":true,"name":true,"network_rules":true,"primary_access_key":true,"primary_blob_connection_string":true,"primary_blob_endpoint":true,"primary_blob_host":true,"primary_blob_internet_endpoint":true,"primary_blob_internet_host":true,"primary_blob_microsoft_endpoint":true,"primary_blob_microsoft_host":true,"primary_connection_string":true,"primary_dfs_endpoint":true,"primary_dfs_host":true,"primary_dfs_internet_endpoint":true,"primary_dfs_internet_host":true,"primary_dfs_microsoft_endpoint":true,"primary_dfs_microsoft_host":true,"primary_file_endpoint":true,"primary_file_host":true,"primary_file_internet_endpoint":true,"primary_file_internet_host":true,"primary_file_microsoft_endpoint":true,"primary_file_microsoft_host":true,"primary_location":true,"primary_queue_endpoint":true,"primary_queue_host":true,"primary_queue_microsoft_endpoint":true,"primary_queue_microsoft_host":true,"primary_table_endpoint":true,"primary_table_host":true,"primary_table_microsoft_endpoint":true,"primary_table_microsoft_host":true,"primary_web_endpoint":true,"primary_web_host":true,"primary_web_internet_endpoint":true,"primary_web_internet_host":true,"primary_web_microsoft_endpoint":true,"primary_web_microsoft_host":true,"queue_properties":true,"routing":true,"sas_policy":[],"secondary_access_key":true,"secondary_blob_connection_string":true,"secondary_blob_endpoint":true,"secondary_blob_host":true,"secondary_blob_internet_endpoint":true,"secondary_blob_internet_host":true,"secondary_blob_microsoft_endpoint":true,"secondary_blob_microsoft_host":true,"secondary_connection_string":true,"secondary_dfs_endpoint":true,"secondary_dfs_host":true,"secondary_dfs_internet_endpoint":true,"secondary_dfs_internet_host":true,"secondary_dfs_microsoft_endpoint":true,"secondary_dfs_microsoft_host":true,"secondary_file_endpoint":true,"secondary_file_host":true,"secondary_file_internet_endpoint":true,"secondary_file_internet_host":true,"secondary_file_microsoft_endpoint":true,"secondary_file_microsoft_host":true,"secondary_location":true,"secondary_queue_endpoint":true,"secondary_queue_host":true,"secondary_queue_microsoft_endpoint":true,"secondary_queue_microsoft_host":true,"secondary_table_endpoint":true,"secondary_table_host":true,"secondary_table_microsoft_endpoint":true,"secondary_table_microsoft_host":true,"secondary_web_endpoint":true,"secondary_web_host":true,"secondary_web_internet_endpoint":true,"secondary_web_internet_host":true,"secondary_web_microsoft_endpoint":true,"secondary_web_microsoft_host":true,"share_properties":true,"static_website":true,"tags":{}},"before_sensitive":false,"after_sensitive":{"azure_files_authentication":[],"blob_properties":[],"custom_domain":[],"customer_managed_key":[],"identity":[],"immutability_policy":[],"network_rules":[],"primary_access_key":true,"primary_blob_connection_string":true,"primary_connection_string":true,"queue_properties":[],"routing":[],"sas_policy":[],"secondary_access_key":true,"secondary_blob_connection_string":true,"secondary_connection_string":true,"share_properties":[],"static_website":[],"tags":{}}}},{"address":"random_string.suffix","mode":"managed","type":"random_string","name":"suffix","provider_name":"registry.terraform.io/hashicorp/random","change":{"actions":["create"],"before":null,"after":{"keepers":null,"length":6,"lower":true,"min_lower":0,"min_numeric":0,"min_special":0,"min_upper":0,"number":true,"numeric":true,"override_special":null,"special":false,"upper":false},"after_unknown":{"id":true,"result":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.vm.azurerm_network_interface.nic","module_address":"module.vm","mode":"managed","type":"azurerm_network_interface","name":"nic","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"auxiliary_mode":null,"auxiliary_sku":null,"edge_zone":null,"internal_dns_name_label":null,"ip_configuration":[{"name":"internal","private_ip_address_allocation":"Dynamic","private_ip_address_version":"IPv4","public_ip_address_id":null}],"location":"westeurope","name":"nic-dev-westeurope","resource_group_name":"dev-rg","tags":{"environment":"dev","owner":"devops","project":"opella-test"},"timeouts":null},"after_unknown":{"accelerated_networking_enabled":true,"applied_dns_servers":true,"dns_servers":true,"enable_accelerated_networking":true,"enable_ip_forwarding":true,"id":true,"internal_domain_name_suffix":true,"ip_configuration":[{"gateway_load_balancer_frontend_ip_configuration_id":true,"primary":true,"private_ip_address":true,"subnet_id":true}],"ip_forwarding_enabled":true,"mac_address":true,"private_ip_address":true,"private_ip_addresses":true,"tags":{},"virtual_machine_id":true},"before_sensitive":false,"after_sensitive":{"applied_dns_servers":[],"dns_servers":[],"ip_configuration":[{}],"private_ip_addresses":[],"tags":{}}}},{"address":"module.vm.azurerm_windows_virtual_machine.vm_windows[0]","module_address":"module.vm","mode":"managed","type":"azurerm_windows_virtual_machine","name":"vm_windows","index":0,"provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"additional_capabilities":[],"additional_unattend_content":[],"admin_password":"MyP@SSWordDSDK*2","admin_username":"devops-test","allow_extension_operations":true,"availability_set_id":null,"boot_diagnostics":[],"bypass_platform_safety_checks_on_user_schedule_enabled":false,"capacity_reservation_group_id":null,"custom_data":null,"dedicated_host_group_id":null,"dedicated_host_id":null,"edge_zone":null,"enable_automatic_updates":true,"encryption_at_host_enabled":null,"eviction_policy":null,"extensions_time_budget":"PT1H30M","gallery_application":[],"hotpatching_enabled":false,"identity":[],"license_type":null,"location":"westeurope","max_bid_price":-1,"name":"vm-dev-westeuro","os_disk":[{"caching":"ReadWrite","diff_disk_settings":[],"disk_encryption_set_id":null,"secure_vm_disk_encryption_set_id":null,"security_encryption_type":null,"storage_account_type":"Standard_LRS","write_accelerator_enabled":false}],"os_image_notification":[],"patch_assessment_mode":"ImageDefault","patch_mode":"AutomaticByOS","plan":[],"platform_fault_domain":-1,"priority":"Regular","provision_vm_agent":true,"proximity_placement_group_id":null,"reboot_setting":null,"resource_group_name":"dev-rg","secret":[],"secure_boot_enabled":null,"size":"Standard_B1s","source_image_id":null,"source_image_reference":[{"offer":"WindowsServer","publisher":"MicrosoftWindowsServer","sku":"2022-datacenter-azure-edition","version":"latest"}],"tags":{"environment":"dev","owner":"devops","project":"opella-test"},"timeouts":null,"timezone":null,"user_data":null,"virtual_machine_scale_set_id":null,"vm_agent_platform_updates_enabled":false,"vtpm_enabled":null,"winrm_listener":[],"zone":null},"after_unknown":{"additional_capabilities":[],"additional_unattend_content":[],"boot_diagnostics":[],"computer_name":true,"disk_controller_type":true,"gallery_application":[],"id":true,"identity":[],"network_interface_ids":true,"os_disk":[{"diff_disk_settings":[],"disk_size_gb":true,"name":true}],"os_image_notification":[],"plan":[],"private_ip_address":true,"private_ip_addresses":true,"public_ip_address":true,"public_ip_addresses":true,"secret":[],"source_image_reference":[{}],"tags":{},"termination_notification":true,"virtual_machine_id":true,"winrm_listener":[]},"before_sensitive":false,"after_sensitive":{"additional_capabilities":[],"additional_unattend_content":[],"admin_password":true,"boot_diagnostics":[],"custom_data":true,"gallery_application":[],"identity":[],"network_interface_ids":[],"os_disk":[{"diff_disk_settings":[]}],"os_image_notification":[],"plan":[],"private_ip_addresses":[],"public_ip_addresses":[],"secret":[],"source_image_reference":[{}],"tags":{},"termination_notification":[],"winrm_listener":[]}}},{"address":"module.vnet.azurerm_subnet.subnet[\"subnet-1\"]","module_address":"module.vnet","mode":"managed","type":"azurerm_subnet","name":"subnet","index":"subnet-1","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"address_prefixes":["10.0.1.0/24"],"default_outbound_access_enabled":true,"delegation":[],"name":"subnet-1","resource_group_name":"dev-rg","service_endpoint_policy_ids":null,"service_endpoints":null,"timeouts":null,"virtual_network_name":"demo-vnet-first-dev-vnet"},"after_unknown":{"address_prefixes":[false],"delegation":[],"enforce_private_link_endpoint_network_policies":true,"enforce_private_link_service_network_policies":true,"id":true,"private_endpoint_network_policies":true,"private_endpoint_network_policies_enabled":true,"private_link_service_network_policies_enabled":true},"before_sensitive":false,"after_sensitive":{"address_prefixes":[false],"delegation":[]}}},{"address":"module.vnet.azurerm_subnet.subnet[\"subnet-2\"]","module_address":"module.vnet","mode":"managed","type":"azurerm_subnet","name":"subnet","index":"subnet-2","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"address_prefixes":["10.0.2.0/24"],"default_outbound_access_enabled":true,"delegation":[],"name":"subnet-2","resource_group_name":"dev-rg","service_endpoint_policy_ids":null,"service_endpoints":null,"timeouts":null,"virtual_network_name":"demo-vnet-first-dev-vnet"},"after_unknown":{"address_prefixes":[false],"delegation":[],"enforce_private_link_endpoint_network_policies":true,"enforce_private_link_service_network_policies":true,"id":true,"private_endpoint_network_policies":true,"private_endpoint_network_policies_enabled":true,"private_link_service_network_policies_enabled":true},"before_sensitive":false,"after_sensitive":{"address_prefixes":[false],"delegation":[]}}},{"address":"module.vnet.azurerm_virtual_network.virtual_network_one","module_address":"module.vnet","mode":"managed","type":"azurerm_virtual_network","name":"virtual_network_one","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"address_space":["10.0.0.0/16"],"bgp_community":null,"ddos_protection_plan":[],"edge_zone":null,"encryption":[],"flow_timeout_in_minutes":null,"location":"westeurope","name":"demo-vnet-first-dev-vnet","resource_group_name":"dev-rg","tags":{"environment":"dev","owner":"devops","project":"opella-test"},"timeouts":null},"after_unknown":{"address_space":[false],"ddos_protection_plan":[],"dns_servers":true,"encryption":[],"guid":true,"id":true,"subnet":true,"tags":{}},"before_sensitive":false,"after_sensitive":{"address_space":[false],"ddos_protection_plan":[],"dns_servers":[],"encryption":[],"subnet":[],"tags":{}}}}],"output_changes":{"subnet_ids":{"actions":["create"],"before":null,"after":{},"after_unknown":{"subnet-1":true,"subnet-2":true},"before_sensitive":false,"after_sensitive":false},"vnet_id":{"actions":["create"],"before":null,"after_unknown":true,"before_sensitive":false,"after_sensitive":false}},"configuration":{"provider_config":{"azurerm":{"name":"azurerm","full_name":"registry.terraform.io/hashicorp/azurerm","version_constraint":"~\u003e 3.0","expressions":{"features":[{}],"subscription_id":{"references":["var.subscription_id"]}}},"random":{"name":"random","full_name":"registry.terraform.io/hashicorp/random","version_constraint":"~\u003e 3.1"}},"root_module":{"outputs":{"subnet_ids":{"expression":{"references":["module.vnet.subnet_ids","module.vnet"]}},"vnet_id":{"expression":{"references":["module.vnet.vnet_id","module.vnet"]}}},"resources":[{"address":"azurerm_resource_group.rg","mode":"managed","type":"azurerm_resource_group","name":"rg","provider_config_key":"azurerm","expressions":{"location":{"references":["var.location"]},"name":{"references":["local.resource_group_name"]},"tags":{"references":["local.tags"]}},"schema_version":0},{"address":"azurerm_storage_account.sa","mode":"managed","type":"azurerm_storage_account","name":"sa","provider_config_key":"azurerm","expressions":{"account_replication_type":{"constant_value":"LRS"},"account_tier":{"constant_value":"Standard"},"location":{"references":["var.location"]},"min_tls_version":{"constant_value":"TLS1_2"},"name":{"references":["local.environment","random_string.suffix.result","random_string.suffix"]},"resource_group_name":{"references":["azurerm_resource_group.rg.name","azurerm_resource_group.rg"]},"tags":{"references":["local.tags"]}},"schema_version":4},{"address":"random_string.suffix","mode":"managed","type":"random_string","name":"suffix","provider_config_key":"random","expressions":{"length":{"constant_value":6},"numeric":{"constant_value":true},"special":{"constant_value":false},"upper":{"constant_value":false}},"schema_version":2}],"module_calls":{"vm":{"source":"./modules/vm","expressions":{"admin_password":{"references":["var.admin_password"]},"environment":{"references":["local.environment"]},"linux_source_image_reference":{"references":["var.linux_source_image_reference"]},"location":{"references":["var.location"]},"os_type":{"references":["var.os_type"]},"resource_group_name":{"references":["azurerm_resource_group.rg.name","azurerm_resource_group.rg"]},"size_vm":{"references":["var.size_vm"]},"ssh_public_key":{"references":["var.ssh_public_key"]},"subnet_id":{"references":["module.vnet.subnet_ids[\"subnet-1\"]","module.vnet.subnet_ids","module.vnet"]},"tags":{"references":["local.tags"]},"username":{"references":["var.username"]},"virtual_machine_name":{"references":["local.environment","var.location"]},"windows_image_reference":{"references":["var.windows_image_reference"]}},"module":{"outputs":{"vm_id":{"expression":{"references":["var.os_type","azurerm_linux_virtual_machine.vm","azurerm_linux_virtual_machine.vm[0].id","azurerm_linux_virtual_machine.vm[0]","azurerm_linux_virtual_machine.vm","var.os_type","azurerm_windows_virtual_machine.vm_windows","azurerm_windows_virtual_machine.vm_windows[0].id","azurerm_windows_virtual_machine.vm_windows[0]","azurerm_windows_virtual_machine.vm_windows"]}},"vm_name":{"expression":{"references":["var.os_type","azurerm_linux_virtual_machine.vm","azurerm_linux_virtual_machine.vm[0].name","azurerm_linux_virtual_machine.vm[0]","azurerm_linux_virtual_machine.vm","var.os_type","azurerm_windows_virtual_machine.vm_windows","azurerm_windows_virtual_machine.vm_windows[0].name","azurerm_windows_virtual_machine.vm_windows[0]","azurerm_windows_virtual_machine.vm_windows"]}}},"resources":[{"address":"azurerm_linux_virtual_machine.vm","mode":"managed","type":"azurerm_linux_virtual_machine","name":"vm","provider_config_key":"azurerm","expressions":{"admin_ssh_key":[{"public_key":{"references":["var.ssh_public_key"]},"username":{"references":["var.username"]}}],"admin_username":{"references":["var.username"]},"location":{"references":["var.location"]},"name":{"references":["var.virtual_machine_name"]},"network_interface_ids":{"references":["azurerm_network_interface.nic.id","azurerm_network_interface.nic"]},"os_disk":[{"caching":{"constant_value":"ReadWrite"},"storage_account_type":{"constant_value":"Standard_LRS"}}],"resource_group_name":{"references":["var.resource_group_name"]},"size":{"references":["var.size_vm"]},"source_image_reference":[{"offer":{"references":["var.linux_source_image_reference[\"offer\"]","var.linux_source_image_reference"]},"publisher":{"references":["var.linux_source_image_reference[\"publisher\"]","var.linux_source_image_reference"]},"sku":{"references":["var.linux_source_image_reference[\"sku\"]","var.linux_source_image_reference"]},"version":{"references":["var.linux_source_image_reference[\"version\"]","var.linux_source_image_reference"]}}],"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["var.os_type"]},"depends_on":["azurerm_network_interface.nic"]},{"address":"azurerm_network_interface.nic","mode":"managed","type":"azurerm_network_interface","name":"nic","provider_config_key":"azurerm","expressions":{"ip_configuration":[{"name":{"constant_value":"internal"},"private_ip_address_allocation":{"constant_value":"Dynamic"},"subnet_id":{"references":["var.subnet_id"]}}],"location":{"references":["var.location"]},"name":{"references":["var.environment","var.location"]},"resource_group_name":{"references":["var.resource_group_name"]},"tags":{"references":["var.tags"]}},"schema_version":0},{"address":"azurerm_windows_virtual_machine.vm_windows","mode":"managed","type":"azurerm_windows_virtual_machine","name":"vm_windows","provider_config_key":"azurerm","expressions":{"admin_password":{"references":["var.admin_password"]},"admin_username":{"references":["var.username"]},"location":{"references":["var.location"]},"name":{"references":["var.virtual_machine_name"]},"network_interface_ids":{"references":["azurerm_network_interface.nic.id","azurerm_network_interface.nic"]},"os_disk":[{"caching":{"constant_value":"ReadWrite"},"storage_account_type":{"constant_value":"Standard_LRS"}}],"resource_group_name":{"references":["var.resource_group_name"]},"size":{"references":["var.size_vm"]},"source_image_reference":[{"offer":{"references":["var.windows_image_reference[\"offer\"]","var.windows_image_reference"]},"publisher":{"references":["var.windows_image_reference[\"publisher\"]","var.windows_image_reference"]},"sku":{"references":["var.windows_image_reference[\"sku\"]","var.windows_image_reference"]},"version":{"references":["var.windows_image_reference[\"version\"]","var.windows_image_reference"]}}],"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["var.os_type"]},"depends_on":["azurerm_network_interface.nic"]}],"variables":{"admin_password":{"default":null,"description":"Admin password for Windows VM"},"environment":{"description":"Environment name"},"linux_source_image_reference":{"default":{"offer":"0001-com-ubuntu-server-jammy","publisher":"Canonical","sku":"22_04-lts","version":"latest"},"description":"source image name references"},"location":{"description":"Azure location"},"os_type":{"default":"linux","description":"Operating system type for the VM. Allowed values: linux or windows"},"resource_group_name":{"description":"Name of the resource group"},"size_vm":{"default":"Standard_B1s","description":"Size of the virtual machine"},"ssh_public_key":{"description":"ssh public key only for linux VMs"},"subnet_id":{"description":"Id of the subnet"},"tags":{"default":{},"description":"Tags to apply to resources"},"username":{"description":"Username of Windows VM"},"virtual_machine_name":{"description":"Name of the virtual machine"},"windows_image_reference":{"default":{"offer":"WindowsServer","publisher":"MicrosoftWindowsServer","sku":"2022-datacenter-azure-edition","version":"latest"},"description":"Windows image reference"}}}},"vnet":{"source":"./modules/vnet","expressions":{"address_space":{"references":["var.address_space"]},"location":{"references":["var.location"]},"resource_group_name":{"references":["azurerm_resource_group.rg.name","azurerm_resource_group.rg"]},"subnets":{"references":["var.subnets"]},"tags":{"references":["local.tags"]},"vnet_name":{"references":["local.vnet_name"]}},"module":{"outputs":{"subnet_ids":{"expression":{"references":["azurerm_subnet.subnet"]},"description":"Map of subnet IDs"},"vnet_id":{"expression":{"references":["azurerm_virtual_network.virtual_network_one.id","azurerm_virtual_network.virtual_network_one"]},"description":"ID of the VNET"},"vnet_name":{"expression":{"references":["azurerm_virtual_network.virtual_network_one.name","azurerm_virtual_network.virtual_network_one"]},"description":"Name of the VNET displayed"}},"resources":[{"address":"azurerm_subnet.subnet","mode":"managed","type":"azurerm_subnet","name":"subnet","provider_config_key":"azurerm","expressions":{"address_prefixes":{"references":["each.value.address_prefixes","each.value"]},"name":{"references":["each.value.name","each.value"]},"resource_group_name":{"references":["var.resource_group_name"]},"virtual_network_name":{"references":["azurerm_virtual_network.virtual_network_one.name","azurerm_virtual_network.virtual_network_one"]}},"schema_version":0,"for_each_expression":{"references":["var.subnets"]}},{"address":"azurerm_virtual_network.virtual_network_one","mode":"managed","type":"azurerm_virtual_network","name":"virtual_network_one","provider_config_key":"azurerm","expressions":{"address_space":{"references":["var.address_space"]},"location":{"references":["var.location"]},"name":{"references":["var.vnet_name"]},"resource_group_name":{"references":["var.resource_group_name"]},"tags":{"references":["var.tags"]}},"schema_version":0}],"variables":{"address_space":{"description":"Address space of the VNET"},"location":{"description":"Azure location"},"resource_group_name":{"description":"Name of the resource group"},"subnets":{"description":"List of subnets to create"},"tags":{"default":{},"description":"Tags to apply to resources"},"vnet_name":{"description":"VNET name"}}}}},"variables":{"address_space":{"description":"Address space for the virtual network"},"admin_password":{"default":null,"description":"Admin password for Windows VM (required only if os_type is windows)"},"linux_source_image_reference":{"default":{"offer":"0001-com-ubuntu-server-jammy","publisher":"Canonical","sku":"22_04-lts","version":"latest"},"description":"Map of source image reference for the virtual machine"},"location":{"default":"westeurope","description":"Azure region to deploy resources in"},"os_type":{"default":"linux","description":"Operating system type for the VM. Allowed values: linux or windows"},"size_vm":{"default":"Standard_B1s","description":"The size of the virtual machine"},"ssh_public_key":{"description":"SSH public key for VM authentication"},"subnets":{"description":"List of subnets for the VNet"},"subscription_id":{"description":"The Azure Subscription ID to use"},"tags":{"default":{"owner":"devops","project":"multi-env-demo"},"description":"Tags to apply to resources"},"username":{"description":"Username for the virtual machine"},"vnet_name":{"description":"Name of the virtual network"},"windows_image_reference":{"default":{"offer":"WindowsServer","publisher":"MicrosoftWindowsServer","sku":"2022-datacenter-azure-edition","version":"latest"},"description":"Windows image reference"},"workflow":{"default":"dev","description":"Workflow environment: dev, test, or prod"}}}},"relevant_attributes":[{"resource":"azurerm_resource_group.rg","attribute":["name"]},{"resource":"random_string.suffix","attribute":["result"]},{"resource":"module.vnet.azurerm_virtual_network.virtual_network_one","attribute":["name"]},{"resource":"module.vm.azurerm_linux_virtual_machine.vm[0]","attribute":["id"]},{"resource":"module.vm.azurerm_linux_virtual_machine.vm","attribute":[]},{"resource":"module.vnet.azurerm_subnet.subnet","attribute":[]},{"resource":"module.vm.azurerm_network_interface.nic","attribute":["id"]},{"resource":"module.vm.azurerm_linux_virtual_machine.vm[0]","attribute":["name"]},{"resource":"module.vm.azurerm_windows_virtual_machine.vm_windows[0]","attribute":["id"]},{"resource":"module.vm.azurerm_windows_virtual_machine.vm_windows","attribute":[]},{"resource":"module.vnet.azurerm_virtual_network.virtual_network_one","attribute":["id"]},{"resource":"module.vm.azurerm_windows_virtual_machine.vm_windows[0]","attribute":["name"]}],"checks":[{"address":{"kind":"var","module":"module.vm","name":"os_type","to_display":"module.vm.var.os_type"},"status":"pass","instances":[{"address":{"module":"module.vm","to_display":"module.vm.var.os_type"},"status":"pass"}]},{"address":{"kind":"var","name":"admin_password","to_display":"var.admin_password"},"status":"pass","instances":[{"address":{"to_display":"var.admin_password"},"status":"pass"}]},{"address":{"kind":"var","name":"os_type","to_display":"var.os_type"},"status":"pass","instances":[{"address":{"to_display":"var.os_type"},"status":"pass"}]},{"address":{"kind":"var","name":"workflow","to_display":"var.workflow"},"status":"pass","instances":[{"address":{"to_display":"var.workflow"},"status":"pass"}]}],"timestamp":"2025-07-23T18:48:56Z","applyable":true,"complete":true,"errored":false}
